@using SchoolWebApp.DTO
@model IEnumerable<SubjectDTO>
@{
    ViewData["Title"] = "Subjects";
}
<h1>List of @ViewData["Title"]</h1>
@if (User.Identity.IsAuthenticated && (User.IsInRole("Admin") || User.IsInRole("Teacher"))) {
    <a class="btn btn-info my-2" asp-action="Create">Add Subject</a>
}
@foreach (var subject in Model) {
    <div class="border rounded-2 border-dark my-2 p-2">
        <h5>@subject.Name</h5>
        <p>Id: <strong>@subject.Id</strong></p>
        <form method="post">
            @if (User.Identity.IsAuthenticated && (User.IsInRole("Admin") || User.IsInRole("Teacher"))) {
                <a class="btn btn-warning my-1 me-1" asp-action="Update" asp-route-id="@subject.Id">Update</a>
                <button type="submit" class="btn btn-danger my-1 ms-1" asp-action="Delete" asp-route-id="@subject.Id">Delete</button>
            }
        </form>
    </div>
}

